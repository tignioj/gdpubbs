<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>GDPU bbs</title>
    <!--引入mdui-->
    <link rel="stylesheet" href="../css/mdui.css">
    <!--引入自定义css-->
    <!-- <link rel="stylesheet" href="css/style.css"> -->
    <style>

    </style>
</head>

<body class="mdui-theme-primary-pink mdui-theme-accent-amber mdui-bottom-nav-fixed mdui-appbar-with-toolbar mdui-appbar-with-tab-larger">
    <!-- 导航栏 -->
    <div id="navigationBar" class="mdui-appbar mdui-appbar-fixed mdui-appbar-scroll-hide">
        <!-- <div id="navigationBar" class="mdui-appbar mdui-appbar-fixed"> -->
        <!-- <div id="navigationBar" class="mdui-appbar"> -->
        <div class="mdui-toolbar mdui-color-theme">
            <a id="toggle" href="javascript:;" class="mdui-btn mdui-btn-icon " mdui-drawer="{target: '#main-drawer', swipe: true}"><i class="mdui-icon material-icons">menu</i></a>
            <a href="javascript:;" class="mdui-typo-title">广药茶馆</a>
            <div class="mdui-toolbar-spacer"></div>
            <a href="javascript:;" class="mdui-btn mdui-btn-icon"><i class="mdui-icon material-icons">search</i></a>
            <a href="javascript:;" class="mdui-btn mdui-btn-icon"><i class="mdui-icon material-icons">refresh</i></a>
            <a href="javascript:;" class="mdui-btn mdui-btn-icon"><i class="mdui-icon material-icons">more_vert</i></a>
        </div>
        <div class="mdui-tab mdui-color-theme" mdui-tab>
            <a href="#example6-tab1" class="mdui-ripple mdui-ripple-white">
                <!-- <i class="mdui-icon material-icons">free_breakfast</i> -->
                <i class="mdui-icon material-icons">brightness_2</i>
                <label>广药夜话</label>
            </a>
            <a href="#example6-tab2" class="mdui-ripple mdui-ripple-white">
                <i class="mdui-icon material-icons">people</i>
                <label>鹊桥交友</label>
            </a>
            <a href="#example6-tab2" class="mdui-ripple mdui-ripple-white">
                <i class="mdui-icon material-icons">favorite</i>
                <label>表白墙</label>
            </a>
            <a href="#example6-tab2" class="mdui-ripple mdui-ripple-white">
                <i class="mdui-icon material-icons">favorite</i>
                <label>美食分享</label>
            </a>
            <a href="#example6-tab2" class="mdui-ripple mdui-ripple-white">
                <i class="mdui-icon material-icons">favorite</i>
                <label>游玩推荐</label>
            </a>
            <a href="#example6-tab2" class="mdui-ripple mdui-ripple-white">
                <i class="mdui-icon material-icons">favorite</i>
                <label>申请版块</label>
            </a>
        </div>
    </div>

    <!-- 内容 -->
    <h1 class="mdui-center" style="text-align:center">发布到广药夜话</h1>
    <div class="mdui-container">
        <div class="mdui-textfield mdui-textfield-floating-label">
            <label class="mdui-textfield-label">标题</label>
            <input class="mdui-textfield-input" type="text" required/>
            <div class="mdui-textfield-error">标题不能为空</div>
        </div>


        <div class="mdui-textfield">
            <textarea class="mdui-textfield-input" maxlength="1000" placeholder="内容" required></textarea>
            <div class="mdui-textfield-error">内容不能为空</div>
        </div>

        <input id="file" type="file" style="display:none" />
        <span>上传图片</span>

        <div class="mdui-row-xs-1 mdui-row-md-3">
            <div class="mdui-col">
                <div class="mdui-card mdui-m-t-1">
                    <div class="mdui-card-media">
                        <img id="img" src="" />

                        <div class="mdui-card-menu">
                            <button id="deleteImg" class="mdui-btn mdui-btn-icon mdui-text-color-white"><i class="mdui-icon material-icons">close</i></button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <button id="addButton" class="mdui-fab mdui-color-theme mdui-ripple "><i class="mdui-icon material-icons">add</i></button>




        <!-- 抽屉 -->
        <div id="main-drawer" class="mdui-drawer mdui-drawer-close" id="drawer">
            <ul class="mdui-list">
                <li class="mdui-subheader">最近常访问</li>
                <li class="mdui-list-item mdui-ripple">
                    <i class="mdui-list-item-icon mdui-icon material-icons">move_to_inbox</i>
                    <div class="mdui-list-item-content">广药茶馆</div>
                </li>
                <li class="mdui-list-item mdui-ripple">
                    <i class="mdui-list-item-icon mdui-icon material-icons">star</i>
                    <div class="mdui-list-item-content">校园生活</div>
                </li>
                <li class="mdui-list-item mdui-ripple">
                    <i class="mdui-list-item-icon mdui-icon material-icons">send</i>
                    <div class="mdui-list-item-content">综合市场</div>
                </li>
                <li class="mdui-list-item mdui-ripple">
                    <i class="mdui-list-item-icon mdui-icon material-icons">drafts</i>
                    <div class="mdui-list-item-content">综合技术</div>
                </li>
                <li class="mdui-list-item mdui-ripple">
                    <i class="mdui-list-item-icon mdui-icon material-icons">email</i>
                    <div class="mdui-list-item-content">资源分享</div>
                </li>
                <li class="mdui-subheader">Subheader</li>
                <li class="mdui-list-item mdui-ripple">
                    <i class="mdui-list-item-icon mdui-icon material-icons">delete</i>
                    <div class="mdui-list-item-content">Trash</div>
                </li>
                <li class="mdui-list-item mdui-ripple">
                    <i class="mdui-list-item-icon mdui-icon material-icons">error</i>
                    <div class="mdui-list-item-content">Spam</div>
                </li>
            </ul>
        </div>



        <!-- 底部 -->
        <div class="mdui-bottom-nav  mdui-bottom-nav-text-auto mdui-color-theme">
            <a href="../index.html" class="mdui-ripple mdui-ripple-white mdui-bottom-nav-active">
                <i class="mdui-icon material-icons">home</i>
                <label>首页</label>
            </a>
            <a href="javascript:void(0);" class="mdui-ripple mdui-ripple-white">
                <i class="mdui-icon material-icons">apps</i>
                <label>进贴</label>
            </a>
            <a href="javascript:void(0);" class="mdui-ripple mdui-ripple-white">
                <i class="mdui-icon material-icons">message</i>
                <label>消息</label>
            </a>
            <a href="../user/user.html" class="mdui-ripple mdui-ripple-white">
                <i class="mdui-icon material-icons">account_circle</i>
                <label>个人</label>
            </a>
        </div>



        <!-- 外部js -->
        <script type="text/javascript" src="../js/mdui.js"></script>
        <!-- 自定义js -->
        <!-- <script type="text/javascript" src="js/index.js"></script> -->
        <script type="text/javascript">
            //上传图片文件
            var addButtonEle = document.getElementById("addButton");
            var fileEle = document.getElementById("file");
            var previewImg = document.getElementById("img");
            addButtonEle.onclick = function() {
                fileEle.click();
            }
            fileEle.addEventListener('change', function() {
                var file = this.files[0];
                var reader = new FileReader();
                // 监听reader对象的的onload事件，当图片加载完成时，把base64编码賦值给预览图片
                reader.addEventListener("load", function() {
                    previewImg.src = reader.result;
                }, false);
                // 调用reader.readAsDataURL()方法，把图片转成base64
                reader.readAsDataURL(file);
            }, false);

            //删除图片文件
            document.getElementById("deleteImg").onclick = function() {
                fileEle.value = "";
                fileEle.outerHtml = fileEle.outerHTML;
                previewImg.src = "";
            }


            //抽屉兰
            var mdrawer = document.getElementById("main-drawer");
            window.onscroll = function() {
                var nvb = document.getElementById("navigationBar");
                //屏幕滚动时判断顶部栏是否隐藏，如果隐藏，则将侧栏高度变为全高
                console.log(nvb.classList.contains('mdui-headroom-unpinned-top'));
                if (nvb.classList.contains('mdui-headroom-unpinned-top')) {
                    doClass(mdrawer, "mdui-drawer-full-height", "add");
                } else {
                    doClass(mdrawer, "mdui-drawer-full-height", "remove");
                }
            }

            //操作元素的class
            function doClass(ele, classList, option) {
                if (option == 'add') {
                    ele.classList.add(classList);
                } else if (option == 'remove') {
                    ele.classList.remove(classList);
                }
            }
        </script>

</body>

</html>